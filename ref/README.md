# llm-info 実装リファレンス

このディレクトリには、llm-infoプロジェクトの実装詳細に関するリファレンスドキュメントが含まれています。

## ドキュメント一覧

### [01-architecture.md](01-architecture.md)
**アーキテクチャリファレンス**

プロジェクトの全体的なアーキテクチャ、レイヤー構成、データフロー、設計判断を説明します。

**主なトピック**:
- プロジェクト構造
- アーキテクチャレイヤー（コマンドライン層、API通信層、設定管理層等）
- データフロー
- 重要な設計判断（フォールバック順序の逆転等）
- テスト戦略
- 拡張ポイント

### [02-api.md](02-api.md)
**API通信リファレンス**

LLMゲートウェイとの通信、エンドポイント管理、フォールバック機能の実装詳細を説明します。

**主なトピック**:
- LiteLLM互換エンドポイント (`/model/info`)
- OpenAI標準エンドポイント (`/v1/models`)
- 自動フォールバック機能の詳細
- クライアント実装
- レスポンス構造体
- 認証とタイムアウト管理
- エラーハンドリング

### [03-config.md](03-config.md)
**設定管理リファレンス**

設定の読み込み、優先順位の解決、検証の実装詳細を説明します。

**主なトピック**:
- 設定ソースと優先順位
- 設定マネージャー
- 設定ファイル形式（YAML）
- 環境変数
- コマンドライン引数
- ゲートウェイ設定
- 設定の検証
- 後方互換性

### [04-error.md](04-error.md)
**エラーハンドリングリファレンス**

エラーの分類、メッセージ生成、解決策の提示の実装詳細を説明します。

**主なトピック**:
- エラー分類（Network, API, Config, User, System）
- AppError構造体
- エラーの作成とメソッドチェーン
- エラーの自動検出
- エラーハンドラー
- エラーメッセージのフォーマット
- 解決策の定義
- エラーコード一覧

## ドキュメントの使い方

### 開発者向け

新機能の実装やバグ修正を行う際は、以下の順序でドキュメントを参照してください：

1. **アーキテクチャリファレンス** - 全体像の把握
2. **該当する機能のリファレンス** - 詳細な実装方法の確認
3. **関連するテストコード** - 動作確認方法の理解

### コントリビューター向け

プルリクエストを作成する前に：

1. 該当する機能のリファレンスを確認
2. 設計判断とベストプラクティスに従う
3. テストの追加を確認

### 新しいメンバー向け

プロジェクトのオンボーディング：

1. **アーキテクチャリファレンス** を読んでプロジェクト全体を理解
2. 簡単なタスクから開始（例: UI改善、エラーメッセージの改善）
3. 各リファレンスを徐々に深く読み込む

## リファレンスの更新

### 更新が必要な場合

- 新機能の追加
- アーキテクチャの変更
- 重要なバグ修正
- 設計判断の変更

### 更新手順

1. 該当するリファレンスファイルを編集
2. 変更履歴をコミットメッセージに記載
3. 他のドキュメントとの整合性を確認

## 関連ドキュメント

### ユーザー向けドキュメント

- [README.md](../README.md) - プロジェクト概要と基本的な使用方法
- [USAGE.md](../USAGE.md) - 詳細な使用ガイド

### 開発者向けドキュメント

- [DEVELOPMENT.md](../DEVELOPMENT.md) - 開発環境のセットアップと開発手順
- [plans/spec.md](../plans/spec.md) - 要求定義書
- [plans/mvp-development-guide.md](../plans/mvp-development-guide.md) - MVP開発ガイド

### 設計ドキュメント

- [plans/](../plans/) - 設計ドキュメント全体
- [plans/llm-info-roadmap.md](../plans/llm-info-roadmap.md) - ロードマップ

## コード例

各リファレンスには具体的なコード例が含まれています。実際のコードと併せて参照してください。

### 主要なコードパス

```
cmd/llm-info/main.go           # エントリーポイント
internal/api/client.go         # API通信のコア
internal/config/manager.go     # 設定管理のコア
internal/error/handler.go      # エラーハンドリングのコア
internal/ui/table.go           # テーブル表示のコア
```

## フィードバック

リファレンスドキュメントに関するフィードバックは、GitHubのIssueで受け付けています。

- 不明な点
- 追加してほしい情報
- 誤りの指摘
- 改善提案

## バージョン情報

このリファレンスはllm-info v1.0.0以降に対応しています。

最終更新: 2026-01-10
